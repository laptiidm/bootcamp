
---

## üìå –ó–∞–≤–¥–∞–Ω–Ω—è: –ù–∞–ª–∞–≥–æ–¥–∏—Ç–∏ –¥–µ–ø–ª–æ–π APK —É Firebase —á–µ—Ä–µ–∑ GitLab CI/CD

### üîß –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è:

* –£ `.gitlab-ci.yml` –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø–∞–π–ø–ª–∞–π–Ω –∑ –µ—Ç–∞–ø–∞–º–∏: `test`, `analyze`, `build`, `deploy`
* –ü–∞–π–ø–ª–∞–π–Ω –ø–∞–¥–∞—î –Ω–∞ –µ—Ç–∞–ø—ñ `deploy-to-firebase` (—Ç–∞–∫–æ–∂ –ø–∞–¥–∞—î –Ω–∞ –µ—Ç–∞–ø—ñ analyze –∞–ª–µ —Ü–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
* –ì—Ä—É–ø—É —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫—ñ–≤ —É Firebase App Distribution –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ
* –ö–æ–ª–∏ –ø–∞–π–ø–ª–∞–π–Ω –æ–¥–∏–Ω —Ä–∞–∑ –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–≤, —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –ª–∏—Å—Ç —ñ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –≤–µ—Ä—Å—ñ—é –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (—Ç–æ–±—Ç–æ —Ü–µ –ø—Ä–∞—Ü—é—î, —î –ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç)

### üéØ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

> –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ Merge Request:

* –ü—Ä–æ—Ö–æ–¥–∏—Ç—å –∑–±—ñ—Ä–∫–∞ —Ä–µ–ª—ñ–∑–Ω–æ—ó APK
* APK –¥–µ–ø–ª–æ—ó—Ç—å—Å—è –Ω–∞ Firebase App Distribution
* –¢–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –ª–∏—Å—Ç–∞ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (—Ü–µ –≤–∂–µ –ø—Ä–∞—Ü—é—î)

---

### üß™ –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø–∞–π–ø–ª–∞–π–Ω—É:

[–ø–æ—Å–∏–ª–∞–Ω–Ω—è](https://gitlab.com/antistresscompanion/antistress-app/-/blob/develop/.gitlab-ci.yml?ref_type=heads)

---

### üìé –î–æ–¥–∞—Ç–∫–æ–≤–æ:

* Firebase App ID —É–∂–µ –≤–∫–∞–∑–∞–Ω–∏–π —É –∑–º—ñ–Ω–Ω—ñ–π `FIREBASE_APP_ID`
* –£ Firebase –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –≥—Ä—É–ø—É `testers`, —è–∫—ñ –º–∞—é—Ç—å –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø
* –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é —á–µ—Ä–µ–∑ **`FIREBASE_TOKEN`** –∞–±–æ **service account JSON key** [–ø–æ—Å–∏–ª–∞–Ω–Ω—è](https://gitlab.com/antistresscompanion/antistress-app/-/settings/ci_cd#js-cicd-variables-settings)
* –ü–∞–π–ø–ª–∞–π–Ω –º–∞—î –±—É—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º —ñ –Ω–∞–¥—ñ–π–Ω–∏–º –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –¥–µ–ø–ª–æ—ó–≤

---

### üõ† –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:

1. –î–æ—Å–ª—ñ–¥–∏—Ç–∏, —á–æ–º—É –ø–∞–¥–∞—î `deploy-to-firebase` [–¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ —Ç—É—Ç](https://gitlab.com/antistresscompanion/antistress-app/-/jobs/10123759384)
2. –ù–∞–ª–∞–≥–æ–¥–∏—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é (—á–µ—Ä–µ–∑ `firebase login:ci` –∞–±–æ service account) (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —è–∫—â–æ –±—É–¥–µ –ø–æ—Ç—Ä–µ–±–∞)
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –±—ñ–ª–¥ APK –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π –¥–µ–ø–ª–æ–π —É Firebase App Distribution
5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—É –∑–±—ñ—Ä–∫—É

---

